*{margin:0;padding:0;box-sizing:border-box}

  body{
    background: radial-gradient(ellipse at 60% 40%, #0f2a5e 0%, #0a1628 60%, #050d1a 100%);
    display:flex;align-items:center;justify-content:center;
    min-height:100vh;width:100vw;
    font-family:'Nunito',sans-serif;
    overflow:hidden;
    user-select:none;
  }

  /* ── Starfield bg ── */
  body::before{
    content:'';position:fixed;inset:0;
    background-image:
      radial-gradient(1px 1px at 10% 15%, rgba(255,255,255,.7) 0%, transparent 100%),
      radial-gradient(1px 1px at 25% 40%, rgba(255,255,255,.5) 0%, transparent 100%),
      radial-gradient(1.5px 1.5px at 40% 8%,  rgba(255,255,255,.6) 0%, transparent 100%),
      radial-gradient(1px 1px at 55% 60%, rgba(255,255,255,.4) 0%, transparent 100%),
      radial-gradient(1px 1px at 70% 25%, rgba(255,255,255,.7) 0%, transparent 100%),
      radial-gradient(1.5px 1.5px at 82% 70%, rgba(255,255,255,.5) 0%, transparent 100%),
      radial-gradient(1px 1px at 93% 12%, rgba(255,255,255,.6) 0%, transparent 100%),
      radial-gradient(1px 1px at 5%  80%, rgba(255,255,255,.4) 0%, transparent 100%),
      radial-gradient(1px 1px at 48% 88%, rgba(255,255,255,.5) 0%, transparent 100%);
    pointer-events:none;z-index:0;
  }

  /* ── Main layout: sidebar + game ── */
  #layout{
    position:relative;z-index:1;
    display:flex;align-items:center;gap:36px;
    width:1060px;max-width:98vw;
  }

  /* ── Left sidebar ── */
  #sidebar-left{
    flex:0 0 220px;
    display:flex;flex-direction:column;gap:20px;
  }

  .sidebar-logo{
    font-family:'Bangers',cursive;
    font-size:64px;line-height:0.95;
    letter-spacing:4px;
    color:#ffe566;
    text-shadow:4px 4px 0 #c97000, 0 6px 20px rgba(255,180,0,.3);
    animation:logoFloat 2.5s ease-in-out infinite;
  }
  .sidebar-logo span{display:block;font-size:22px;letter-spacing:6px;color:#7ec8f8;text-shadow:none;margin-top:4px;}
  @keyframes logoFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

  .side-card{
    background:rgba(255,255,255,0.06);
    border:1.5px solid rgba(255,255,255,0.12);
    border-radius:16px;
    padding:18px 20px;
    backdrop-filter:blur(8px);
  }
  .side-card h3{
    font-family:'Bangers',cursive;
    font-size:18px;letter-spacing:2px;
    color:#ffe566;margin-bottom:12px;
    text-transform:uppercase;
  }

  .key-row{display:flex;align-items:center;gap:10px;margin-bottom:8px;}
  .key-row:last-child{margin-bottom:0}
  .key{
    display:inline-flex;align-items:center;justify-content:center;
    min-width:40px;height:36px;padding:0 10px;
    background:rgba(255,255,255,0.12);
    border:2px solid rgba(255,255,255,0.25);
    border-bottom:4px solid rgba(255,255,255,0.15);
    border-radius:8px;
    font-family:'Bangers',cursive;font-size:16px;letter-spacing:1px;
    color:white;
    box-shadow:0 2px 8px rgba(0,0,0,.3);
  }
  .key-desc{font-size:13px;color:rgba(255,255,255,.7);font-weight:700;}

  .live-score-box{text-align:center;padding:10px 0;}
  .live-score-label{font-size:12px;font-weight:900;letter-spacing:2px;color:rgba(255,255,255,.5);text-transform:uppercase;}
  .live-score-num{
    font-family:'Bangers',cursive;
    font-size:72px;line-height:1;
    color:#ffe566;
    text-shadow:3px 3px 0 #c97000;
    transition:transform .1s;
  }
  .live-score-num.pop{transform:scale(1.25);}
  .live-best-label{font-size:11px;font-weight:700;color:rgba(255,255,255,.4);margin-top:4px;}
  .live-best-num{font-family:'Bangers',cursive;font-size:26px;color:#7ec8f8;letter-spacing:1px;}

  /* ── Game canvas wrapper ── */
  #wrapper{
    position:relative;flex:0 0 auto;
    width:480px;height:640px;
    box-shadow:0 0 0 3px rgba(255,255,255,.08), 0 0 80px rgba(0,100,255,.2), 0 24px 60px rgba(0,0,0,.7);
    border-radius:16px;
    overflow:hidden;
    cursor:pointer;
  }
  canvas{display:block;}

  /* ── Right sidebar ── */
  #sidebar-right{
    flex:0 0 220px;
    display:flex;flex-direction:column;gap:20px;
  }

  .medal-showcase{
    text-align:center;
  }
  .medal-showcase h3{
    font-family:'Bangers',cursive;font-size:18px;letter-spacing:2px;
    color:#ffe566;margin-bottom:14px;text-transform:uppercase;
  }
  .medal-item{
    display:flex;align-items:center;gap:10px;
    padding:8px 10px;border-radius:10px;
    margin-bottom:6px;
    background:rgba(255,255,255,.04);
    border:1px solid rgba(255,255,255,.08);
  }
  .m-icon{font-size:22px;}
  .m-info{text-align:left;}
  .m-name{font-family:'Bangers',cursive;font-size:16px;letter-spacing:1px;color:white;}
  .m-req{font-size:11px;color:rgba(255,255,255,.45);font-weight:700;}

  .tip-card p{
    font-size:13px;color:rgba(255,255,255,.6);
    line-height:1.6;font-weight:700;
  }
  .tip-card p+p{margin-top:8px;}
  .tip-card .highlight{color:#ffe566;}

  /* ── Overlay panels ── */
  .panel{
    position:absolute;inset:0;
    display:flex;flex-direction:column;
    align-items:center;justify-content:center;
    pointer-events:none;
    transition:opacity .3s;
    z-index:10;
  }
  .panel.hidden{opacity:0;pointer-events:none;}
  .panel.visible{opacity:1;pointer-events:all;}

  #startPanel{background:rgba(0,0,0,.0);}

  .start-logo{
    font-family:'Bangers',cursive;
    font-size:80px;letter-spacing:5px;line-height:.95;
    color:#ffe566;
    text-shadow:5px 5px 0 #c97000, 0 8px 30px rgba(255,200,0,.4);
    text-align:center;
    animation:logoFloat 2.5s ease-in-out infinite;
  }
  .start-sub{
    font-size:16px;letter-spacing:4px;color:#7ec8f8;
    text-shadow:0 2px 8px rgba(0,0,0,.5);margin-top:6px;
    font-weight:900;text-transform:uppercase;
  }
  .start-hint{
    margin-top:44px;
    font-family:'Bangers',cursive;
    font-size:26px;letter-spacing:3px;color:white;
    text-shadow:2px 2px 0 rgba(0,0,0,.5);
    animation:blink 1.1s ease-in-out infinite;
    background:rgba(0,0,0,.3);
    padding:10px 28px;border-radius:30px;
    border:2px solid rgba(255,255,255,.15);
  }
  @keyframes blink{0%,100%{opacity:1}50%{opacity:.25}}

  /* Game Over card */
  #gameOverPanel{background:rgba(0,0,0,.4);backdrop-filter:blur(3px);}
  .go-card{
    background:#fffbe8;
    border:5px solid #d4a853;
    border-radius:22px;
    padding:30px 40px 26px;
    width:330px;
    text-align:center;
    box-shadow:0 12px 0 #b8832a, 0 20px 50px rgba(0,0,0,.5);
    animation:popIn .5s cubic-bezier(.175,.885,.32,1.275) both;
  }
  @keyframes popIn{
    from{transform:scale(.35) translateY(50px);opacity:0}
    to{transform:scale(1) translateY(0);opacity:1}
  }
  .go-title{
    font-family:'Bangers',cursive;font-size:54px;letter-spacing:3px;
    color:#e94e3d;text-shadow:3px 3px 0 #9b1a0d;line-height:1;
  }
  .score-table{
    background:#fff8d6;border:3px solid #d4a853;
    border-radius:12px;margin:16px 0 14px;overflow:hidden;
  }
  .score-row{
    display:flex;justify-content:space-between;align-items:center;
    padding:11px 18px;border-bottom:2px dashed #e0c87a;
  }
  .score-row:last-child{border-bottom:none;}
  .s-label{font-weight:900;font-size:13px;color:#7a5500;text-transform:uppercase;letter-spacing:1px;}
  .s-val{font-family:'Bangers',cursive;font-size:32px;color:#3b2200;letter-spacing:2px;}
  .medal{
    width:40px;height:40px;border-radius:50%;
    display:inline-flex;align-items:center;justify-content:center;
    font-size:21px;border:3px solid;box-shadow:0 3px 0 rgba(0,0,0,.2);
  }
  .medal-gold  {background:linear-gradient(135deg,#ffe566,#f5a800);border-color:#c98000;}
  .medal-silver{background:linear-gradient(135deg,#e8e8e8,#b0b0b0);border-color:#888;}
  .medal-bronze{background:linear-gradient(135deg,#f0c090,#c07840);border-color:#a05020;}
  .medal-none  {background:#e0e0e0;border-color:#aaa;font-size:18px;}
  .stars{display:inline-flex;gap:3px;vertical-align:middle;margin-left:8px;}
  .star{font-size:20px;filter:grayscale(1);}
  .star.lit{filter:none;animation:starPop .4s ease-out both;}
  @keyframes starPop{0%{transform:scale(0)}70%{transform:scale(1.3)}100%{transform:scale(1)}}
  .star:nth-child(1).lit{animation-delay:.6s}
  .star:nth-child(2).lit{animation-delay:.8s}
  .star:nth-child(3).lit{animation-delay:1s}
  .new-badge{
    display:inline-block;background:#f5c518;color:#7a4e00;
    font-size:10px;font-weight:900;padding:1px 7px;border-radius:20px;
    border:2px solid #c99600;text-transform:uppercase;letter-spacing:1px;
    margin-left:6px;vertical-align:middle;
    animation:pulse 1s ease-in-out infinite;
  }
  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
  .btn-row{display:flex;gap:14px;margin-top:16px;}
  .btn{
    flex:1;padding:13px 8px;
    font-family:'Bangers',cursive;font-size:22px;letter-spacing:2px;
    border:none;border-radius:12px;cursor:pointer;outline:none;
    transition:transform .1s,box-shadow .1s;
  }
  .btn:active{transform:translateY(3px)!important;box-shadow:0 2px 0!important}
  .btn-play{
    background:linear-gradient(180deg,#7de84a,#4caf1e);color:#fff;
    text-shadow:1px 2px 0 #2a7000;border:3px solid #2a7000;box-shadow:0 5px 0 #2e7a00;
  }
  .btn-play:hover{transform:translateY(-2px);box-shadow:0 7px 0 #2e7a00}
  .btn-share{
    background:linear-gradient(180deg,#5bc8ff,#1a8fd1);color:#fff;
    text-shadow:1px 2px 0 #0056a0;border:3px solid #0056a0;box-shadow:0 5px 0 #0060b0;
  }
  .btn-share:hover{transform:translateY(-2px);box-shadow:0 7px 0 #0060b0}

  .toast{
    position:fixed;bottom:32px;left:50%;transform:translateX(-50%);
    background:rgba(0,0,0,.8);color:#fff;
    padding:10px 24px;border-radius:30px;
    font-size:14px;font-weight:700;
    opacity:0;pointer-events:none;transition:opacity .3s;
    white-space:nowrap;z-index:999;
  }
  .toast.show{opacity:1;}